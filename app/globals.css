@import "tailwindcss";

/* Tema/Tokens Synko (usados por toda la UI) */
@theme {
  /* Tipografías */
  --font-family-sans:
    Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    "Helvetica Neue", Arial, "Noto Sans";
  --font-family-display: Sora, var(--font-family-sans);

  /* Colores base */
  --color-bg: 255 255 255;
  --color-fg: 15 23 42; /* slate-900 */
  --color-muted: 100 116 139; /* slate-500 */
  --color-border: 226 232 240; /* slate-200 */

  /* Marca */
  --color-primary: 14 165 233; /* sky-500 */
  --color-primary-600: 2 132 199; /* sky-600 */
  --color-accent: 34 197 94; /* green-500 */
  --color-accent-600: 22 163 74; /* green-600 */

  /* Highlight moderno (fucsia) */
  --color-highlight: 217 70 239; /* fuchsia-500 */
  --color-highlight-600: 192 38 211; /* fuchsia-600 */

  /* Elevación */
  --box-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --box-shadow-md:
    0 4px 12px -2px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.06);
  --box-shadow-lg: 0 12px 32px -8px rgb(0 0 0 / 0.2);

  /* Espaciado base 8px */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-12: 3rem;

  /* Radios */
  --border-radius-sm: 0.5rem;
  --border-radius-md: 0.75rem;
  --border-radius-lg: 1rem;
  --border-radius-2xl: 1.5rem;
}

/* Modo oscuro basado en data-theme */
:root[data-theme="dark"] {
  --color-bg: 2 6 23; /* slate-950 */
  --color-fg: 241 245 249; /* slate-100 */
  --color-muted: 148 163 184; /* slate-400 */
  --color-border: 30 41 59; /* slate-800 */
  --color-primary: 56 189 248; /* sky-400 */
  --color-accent: 74 222 128; /* green-400 */
  --color-highlight: 232 121 249; /* fuchsia-400 */
  --color-highlight-text: 240 171 252; /* fuchsia-300 */
}

/* Helpers de color usando CSS vars + Tailwind utilities */
:root {
  color: rgb(var(--color-fg));
  background: rgb(var(--color-bg));
  font-family: var(--font-family-sans);
}

/* === ACCESIBILIDAD Y PERFORMANCE === */

/* Respeta prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Focus rings mejorados para accesibilidad */
*:focus {
  outline: 2px solid rgb(var(--color-primary));
  outline-offset: 2px;
}

/* Focus rings específicos para elementos interactivos */
button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus,
[tabindex]:focus {
  outline: 2px solid rgb(var(--color-primary));
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgb(var(--color-primary) / 0.1);
}

/* Mejora la legibilidad del texto */
body {
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Asegura contraste mínimo para texto */
.text-muted {
  color: var(--color-muted);
  /* Contraste mínimo 4.5:1 */
}

/* Mejora la navegación por teclado */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: rgb(var(--color-primary));
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* Mejora la accesibilidad de botones */
button:disabled,
input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Asegura que las imágenes sean responsivas por defecto */
img {
  max-width: 100%;
  height: auto;
}

/* Mejora la legibilidad en pantallas pequeñas */
@media (max-width: 640px) {
  body {
    font-size: 16px; /* Previene zoom en iOS */
  }
}

/* Animaciones suaves por defecto (respetando prefers-reduced-motion) */
@media (prefers-reduced-motion: no-preference) {
  * {
    transition-property:
      color, background-color, border-color, text-decoration-color, fill,
      stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
}

/* Mejora el contraste en modo alto contraste */
@media (prefers-contrast: high) {
  :root {
    --color-border: 0 0 0;
    --color-muted: 0 0 0;
  }

  :root[data-theme="dark"] {
    --color-border: 255 255 255;
    --color-muted: 255 255 255;
  }
}
